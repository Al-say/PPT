#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# æ£€æŸ¥æš‚å­˜åŒºçš„æ–‡ä»¶
echo "ğŸ” Checking staged files..."

# è¿è¡Œlint-staged
npx lint-staged

# è¿è¡Œæµ‹è¯•
echo "ğŸ§ª Running tests..."
npm test -- --bail --findRelatedTests

# æ£€æŸ¥å®‰å…¨æ¼æ´
echo "ğŸ”’ Running security checks..."
npm run security-check

# å¦‚æœæ‰€æœ‰æ£€æŸ¥éƒ½é€šè¿‡
echo "âœ… Pre-commit checks passed!"
